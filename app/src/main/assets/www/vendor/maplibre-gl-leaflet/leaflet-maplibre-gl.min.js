/**
 * Minified by jsDelivr using Terser v5.39.0.
 * Original file: /npm/@maplibre/maplibre-gl-leaflet@0.0.22/leaflet-maplibre-gl.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
!function(t,i){"function"==typeof define&&define.amd?define(["leaflet","maplibre-gl"],i):"object"==typeof exports?module.exports=i(require("leaflet"),require("maplibre-gl")):t.returnExports=i(t.L,t.maplibregl)}("undefined"!=typeof globalThis?globalThis:this||self,(function(t,i){t.MaplibreGL=t.Layer.extend({options:{updateInterval:32,padding:.1,interactive:!1,pane:"tilePane"},initialize:function(i){t.setOptions(this,i),this._throttledUpdate=t.Util.throttle(this._update,this.options.updateInterval,this)},onAdd:function(i){this._container||this._initContainer();var n=this.getPaneName();i.getPane(n).appendChild(this._container),this._initGL(),this._offset=this._map.containerPointToLayerPoint([0,0]),i.options.zoomAnimation&&t.DomEvent.on(i._proxy,t.DomUtil.TRANSITION_END,this._transitionEnd,this)},onRemove:function(i){this._map._proxy&&this._map.options.zoomAnimation&&t.DomEvent.off(this._map._proxy,t.DomUtil.TRANSITION_END,this._transitionEnd,this);var n=this.getPaneName();i.getPane(n).removeChild(this._container),this._glMap.remove(),this._glMap=null},getEvents:function(){return{move:this._throttledUpdate,zoomanim:this._animateZoom,zoom:this._pinchZoom,zoomstart:this._zoomStart,zoomend:this._zoomEnd,resize:this._resize}},getMaplibreMap:function(){return this._glMap},getCanvas:function(){return this._glMap.getCanvas()},getSize:function(){return this._map.getSize().multiplyBy(1+2*this.options.padding)},getBounds:function(){var i=this.getSize().multiplyBy(.5),n=this._map.latLngToContainerPoint(this._map.getCenter());return t.latLngBounds(this._map.containerPointToLatLng(n.subtract(i)),this._map.containerPointToLatLng(n.add(i)))},getContainer:function(){return this._container},getPaneName:function(){return this._map.getPane(this.options.pane)?this.options.pane:"tilePane"},_roundPoint:function(t){return{x:Math.round(t.x),y:Math.round(t.y)}},_initContainer:function(){var i=this._container=t.DomUtil.create("div","leaflet-gl-layer"),n=this.getSize(),a=this._map.getSize().multiplyBy(this.options.padding);i.style.width=n.x+"px",i.style.height=n.y+"px";var e=this._map.containerPointToLayerPoint([0,0]).subtract(a);t.DomUtil.setPosition(i,this._roundPoint(e))},_initGL:function(){var n=this._map.getCenter(),a=t.extend({},this.options,{container:this._container,center:[n.lng,n.lat],zoom:this._map.getZoom()-1,attributionControl:!1});this._glMap=new i.Map(a),this._glMap.transform.latRange=null,this._glMap.transform.maxValidLatitude=1/0,this._transformGL(this._glMap),this._glMap._canvas.canvas?this._glMap._actualCanvas=this._glMap._canvas.canvas:this._glMap._actualCanvas=this._glMap._canvas;var e=this._glMap._actualCanvas;t.DomUtil.addClass(e,"leaflet-image-layer"),t.DomUtil.addClass(e,"leaflet-zoom-animated"),this.options.interactive&&t.DomUtil.addClass(e,"leaflet-interactive"),this.options.className&&t.DomUtil.addClass(e,this.options.className)},_update:function(i){if(this._map&&(this._offset=this._map.containerPointToLayerPoint([0,0]),!this._zooming)){var n=this.getSize(),a=this._container,e=this._glMap,o=this._map.getSize().multiplyBy(this.options.padding),s=this._map.containerPointToLayerPoint([0,0]).subtract(o);t.DomUtil.setPosition(a,this._roundPoint(s)),this._transformGL(e),e.transform.width!==n.x||e.transform.height!==n.y?(a.style.width=n.x+"px",a.style.height=n.y+"px",null!==e._resize&&void 0!==e._resize?e._resize():e.resize()):null!==e._update&&void 0!==e._update?e._update():e.update()}},_transformGL:function(t){var n=this._map.getCenter(),a=t.transform;a.center=i.LngLat.convert([n.lng,n.lat]),a.zoom=this._map.getZoom()-1},_pinchZoom:function(t){this._glMap.jumpTo({zoom:this._map.getZoom()-1,center:this._map.getCenter()})},_animateZoom:function(i){var n=this._map.getZoomScale(i.zoom),a=this._map.getSize().multiplyBy(this.options.padding*n),e=this.getSize()._divideBy(2),o=this._map.project(i.center,i.zoom)._subtract(e)._add(this._map._getMapPanePos().add(a))._round(),s=this._map.project(this._map.getBounds().getNorthWest(),i.zoom)._subtract(o);t.DomUtil.setTransform(this._glMap._actualCanvas,s.subtract(this._offset),n)},_zoomStart:function(t){this._zooming=!0},_zoomEnd:function(){var i=this._map.getZoomScale(this._map.getZoom());t.DomUtil.setTransform(this._glMap._actualCanvas,null,i),this._zooming=!1,this._update()},_transitionEnd:function(i){t.Util.requestAnimFrame((function(){var i=this._map.getZoom(),n=this._map.getCenter(),a=this._map.latLngToContainerPoint(this._map.getBounds().getNorthWest());t.DomUtil.setTransform(this._glMap._actualCanvas,a,1),this._glMap.once("moveend",t.Util.bind((function(){this._zoomEnd()}),this)),this._glMap.jumpTo({center:n,zoom:i-1})}),this)},_resize:function(t){this._transitionEnd(t)}}),t.maplibreGL=function(i){return new t.MaplibreGL(i)}}));
//# sourceMappingURL=/sm/2ed687dd08ed1c3c7a2d0a51260d51538bd6c7a2f59430c3b43b47b12f4194fe.map